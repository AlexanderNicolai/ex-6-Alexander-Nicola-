var accounts = [ ];

function createAccount (account) {
	accounts.push(account);
	return account;
}

function getAccount (username) {
	var matchedAccount;

	accounts.forEach( function (internal_account) {
		if (internal_account.username === username) {
			matchedAccount = internal_account;
		}
	} );

	return matchedAccount;
}

// Alternative
/*
function getAccount (username) {
	var matchedAccount;

	for (var i = 0; i < accounts.length; i++) {
		if (accounts[i].username === username) {
			matchedAccount = accounts[i];
			break;
		}
	}

	return matchedAccount;
}
*/

function deposit (account, amount) {
    if( typeof (amount) === 'number'){
	account.balance += amount;
        console.log("er is"+amount+"bijgekomen om de rekening");
}
else {
    console.log("Probeer opnieuw, geef een cijfer mee");
}
}
function withdraw (account, amount) {
    if (typeof (amount) === 'number'){
	account.balance -= amount;
        console.log("er is"+amount+"afgegaan van de rekening");
}
else {
    console.log("Probeer opnieuw,geef een cijfer mee");
}
}

function getBalance (account) {
    function (account){
	return account.balance;
}
}();
//geraak verward met de anonymous functie

var andrewsAccount = createAccount({
	username: 'Andrew',
	balance: 0
});

deposit(andrewsAccount, 100);
console.log(getBalance(andrewsAccount));

withdraw(andrewsAccount, 11);
console.log(getBalance(andrewsAccount));

var existingAccount = getAccount('Andrew');
console.log(getBalance(andrewsAccount));

var jensAccount = createAccount({
	username: 'jen001',
	balance: 12
});

console.log(accounts);

var exitingJensAccount = getAccount('jen001');
console.log(exitingJensAccount);
